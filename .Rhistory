httr::http_error("http://localhost:5002")
httr::http_error("http://localhost:5002")
httr::http_error("http://localhost:5002")
?httr::GET
httr::GET("http://localhost:5002/parameters", httr::add_headers("uid": "abcd"))
httr::GET("http://localhost:5002/parameters", httr::add_headers("uid"= "abcd"))
httr::GET("http://localhost:5002/parameters", httr::add_headers(uid= "abcd"))
?httr::POST
httr::GET("http://localhost:5002/parameters", body=list(uid= "abcd"))
httr::http_error("http://localhost:5002")
httr::GET("http://localhost:5001/info")
httr::GET("http://localhost:5002/info")
content(httr::GET("http://localhost:5002/info"))
httr::content(httr::GET("http://localhost:5002/info"))
httr::GET("http://localhost:5002/parameters", body=list(uid= "abcd"))
httr::content(httr::GET("http://localhost:5002/parameters", body=list(uid= "abcd")))
httr::content(httr::POST("http://localhost:5002/parameters", body=list(uid= "abcd")))
httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd")))
httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid <- params$iteration_id
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid
httr::content(httr::GET("http://localhost:5002/info"))
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = list(
"gamma" = c(3,5,6),
"mu_bar" = c(2,5,6)
)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = list(
"gamma" = c(3,5,6),
"mu_bar" = c(2,5,6)
)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = list(
"gamma" = c(3,5,6),
"mu_bar" = c(2,5,6)
)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = list(
"gamma" = c(3,5,6),
"mu_bar" = c(2,5,6)
)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_vamu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::POST("http://localhost:5002/results", body=nb, encode="json")
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_varmu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcd"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_varmu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcde"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcd",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_varmu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
nb <- list(
"uid" = "abcde",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_varmu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
httr::content(httr::GET("http://localhost:5002/info"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
params <- httr::content(httr::POST("http://localhost:5002/parameters", body=list("uid"= "abcde"), encode = "json"))
iid <- params$iteration_id
nb <- list(
"uid" = "abcde",
"scenario_uid" = params$scenario_id[[1]],
"iteration_uid" = params$iteration_id[[1]],
"emiss_mu_bar" = c(3,1,9),
"gamma_int_bar" = c(1,2,5,3,6,6),
"emiss_var_bar" = c(2,1,5),
"emiss_varmu_bar" = c(7,1,2),
"credible_intervals" = c(4,1,2)
)
httr::content(httr::POST("http://localhost:5002/results", body=nb, encode="json"))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info"))
?httr::GET
?httr::add_headers
httr::content(httr::GET("http://localhost:5002/info"), httr::add_headers(api_key="12345"))
httr::content(httr::GET("http://localhost:5002/info"), httr::add_headers(c(api_key="12345")))
httr::content(httr::GET("http://localhost:5002/info"), httr::add_headers(.headers = c(api_key="12345")))
httr::content(httr::GET("http://localhost:5002/info", httr::add_headers(api_key="12345")))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info", httr::add_headers(api_key="12345")))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info", httr::add_headers(api_key="12345")))
httr::content(httr::GET("http://localhost:5002/info", httr::add_headers(username="sleepsimR_container", password="superflexickadosuish")))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info", httr::authenticate(username="sleepsimR_container", password="superflexickadosuish")))
httr::content(httr::GET("http://localhost:5002/info", httr::authenticate(user="sleepsimR_container", password="superflexickadosuish")))
httr::http_error("http://localhost:5002")
httr::content(httr::GET("http://localhost:5002/info", httr::authenticate(user="container", password="mypwd")))
# Get the number of allocated/completed iterations
content(GET("http://localhost:5002/info", authenticate(user="container", password="mypwd")))
library(httr)
# Check for error
http_error("http://localhost:5002")
# Get the number of allocated/completed iterations
content(GET("http://localhost:5002/info", authenticate(user="container", password="mypwd")))
# Retrieve a set of parameters
params <- content(GET("http://localhost:5002/parameters",
add_headers("uid" = "abcdef"),
authenticate(user="container", password="mypwd"),
encode = "json"))
params
# Get iteration id
iid <- params$iteration_id
iid
# POST
content(POST("http://localhost:5002/results",
body=nb,
authenticate(user="container", password="mypwd"),
encode="json"))
# HOST/PWD/USR
host <- Sys.getenv("SLEEPSIMR_MASTER_HOST")
host <- "tst"
# Make endpoint
ep <- file.path(host, "parameters")
# Retrieve a set of parameters
params <- content(GET("http://localhost:5002/parameters",
#add_headers("uid" = "abcdef"),
authenticate(user="container", password="mypwd"),
encode = "json"))
params
# Retrieve a set of parameters
params <- content(GET("http://localhost:5002/parameters",
add_headers("uid" = "abcdef"),
authenticate(user="container", password="mypwd"),
encode = "json"))
params
params$save_model
